<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ESP32 Wi-Fi Configurator</title>
<script>
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('connectButton').addEventListener('click', async function() {
        const {value: ssid} = document.getElementById('ssid');
        const {value: password} = document.getElementById('password');
        const response = await navigator.serial.requestPort();
        await response.open({baudRate: 115200});
        const encoder = new TextEncoder();
        const command = `AT+CONFIG=wifi,ssid,${ssid};password,${password}\n`;
        await response.write(encoder.encode(command));
        console.log('Wi-Fi configuration command sent:', command);
        await response.close();
    });
});
</script>
</head>
<body>
<h1>ESP32 Wi-Fi Configurator</h1>
<form>
    <label for="ssid">SSID:</label>
    <input type="text" id="ssid" name="ssid" required><br>
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required><br>
    <button type="button" id="connectButton">Connect and Configure</button>
</form>
</body>
</html>
